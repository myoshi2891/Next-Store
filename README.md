# 概要

## 関連ソースファイル

このドキュメントは、Next.js を用いた eコマースアプリケーションの **アーキテクチャ**、**コアシステム**、および **主要コンポーネント** の包括的な概要を提供します。
本システムは、以下の機能を備えたフルスタックのオンラインストアです。

* 商品カタログ管理
* ショッピングカート機能
* ユーザー認証
* 決済処理
* 管理機能

この概要では、**システム設計の高レベルな構造** と **アーキテクチャ上の決定** に焦点を当てます。
特定機能の詳細な実装については、**Core Systems**、**E-commerce Features**、**User Interface System** を参照してください。
[DeepWiki](https://deepwiki.com/myoshi2891/Next-Store/1-overview)
---

## システムの目的とアーキテクチャ

**Next.js Store** は、**Next.js 14** の **App Router アーキテクチャ** を用いて構築されたモダンな eコマースプラットフォームです。
ビジネスロジックは **サーバー関数** に集約され、**サーバーアクション中心設計** を採用しています。これにより、クライアント層とサーバー層間で型安全な操作が可能になります。

**関連ソース**

* `utils/actions.ts` (1–626)
* `middleware.ts` (1–28)
* `prisma/schema.prisma` (1–93)
* `app/layout.tsx` (1–34)

---

## 技術スタック

このアプリケーションは、パフォーマンスと開発者体験を最適化した **TypeScript ベースの最新スタック** を活用しています。

| カテゴリ      | 技術                  | 用途                            |
| --------- | ------------------- | ----------------------------- |
| フレームワーク   | Next.js 14          | App Router、Server Actions、SSR |
| データベース    | PostgreSQL + Prisma | 型安全 ORM によるデータ永続化             |
| 認証        | Clerk               | ユーザー管理とセッション制御                |
| 決済        | Stripe              | 決済処理とチェックアウト                  |
| ファイルストレージ | Supabase            | 画像アップロードと保存                   |
| UIフレームワーク | React 18 + Radix UI | コンポーネントライブラリとプリミティブ           |
| スタイリング    | Tailwind CSS        | ユーティリティファースト CSS フレームワーク      |
| バリデーション   | Zod                 | 実行時型チェックとバリデーション              |

**関連ソース**

* `package.json` (11–56)
* `bun.lock` (1–116366)

---

## アプリケーションの基本構造

アプリケーションは、**Next.js 14 App Router の規約** に従い、責務分離を明確にしています。

**関連ソース**

* `utils/actions.ts` (16–26)
* `utils/actions.ts` (35–67)
* `prisma/schema.prisma` (18–93)

---

## 認証とセキュリティアーキテクチャ

本システムは、**Clerk を用いた認証** と、**カスタムミドルウェアによる認可** を組み合わせた包括的なセキュリティモデルを実装しています。
